{{- $id := .id -}}
{{- $title := .title -}}
{{- $url := .url -}}
{{- $page := .page -}}

<div id="{{ $id }}" class="pdf-modal-overlay" style="display:none;">
  <div class="pdf-modal-content" onclick="event.stopPropagation();">
    <div class="pdf-modal-header">
      <div class="pdf-modal-title">
        <h3>{{ $title }}</h3>
        <a href="{{ $url }}" target="_blank" rel="noopener" title="Ouvrir dans nouvel onglet">{{ path.Base $url }}</a>
      </div>
      <span class="pdf-modal-close" onclick="closePdfModal('{{ $id }}')">&times;</span>
    </div>
    <div class="pdf-modal-body">
      {{ partial "pdf-embed-content.html" (dict "url" $url "page" $page "id" $id) }}
    </div>
    <div class="pdf-modal-footer">
      <button id="pdf-prev-{{ $id }}">←</button>
      <span>
        <span id="pdf-pagenum-{{ $id }}"></span> / <span id="pdf-pagecount-{{ $id }}"></span>
      </span>
      <button id="pdf-next-{{ $id }}">→</button>
    </div>
  </div>
</div>
